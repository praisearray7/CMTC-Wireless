import{j as e,B as h,k as z,T as o,G as l,S as m,z as R,U as T,l as W,$ as A,a0 as F,a1 as $,W as O,a2 as _,a3 as E,a4 as g,a5 as U,a as P,a6 as G}from"./vendor-mui-LjfBYrFG.js";import{u as N,r as d}from"./vendor-react-ttcv0AaH.js";import{P as B}from"./papaparse.min-BxIXmAg3.js";import{c as a,b as n}from"./index-BoTCAXyz.js";import{G as q}from"./GoogleReviews-CxdAxcY7.js";import{S as H}from"./SEO-Dn4MZD4u.js";import{F as C}from"./FadeIn-Dq-zb_wG.js";import"./vendor-utils-CPIMHzB6.js";const V="https://docs.google.com/spreadsheets/d/e/2PACX-1vT7ZZsn4Cvg3d3LsqdvuhjtWFOCKhVr-E3tBQ_GqW9hoQI4eSM6-UcAD_RmZ6M7XGn9w3b76CNcY2UL/pub?gid=1867337181&single=true&output=csv",k=c=>c.charAt(0).toUpperCase()+c.slice(1),Z=c=>c.split(/[-/]/).map(j=>k(j)).join(" "),Q=async()=>new Promise((c,j)=>{B.parse(V,{download:!0,header:!1,complete:y=>{const S=y.data;let v=-1;const u={};for(let r=0;r<S.length;r++){const t=S[r];if(t.includes("Device")&&t.includes("Sub-Type Price (USD)")){v=r,t.forEach((i,x)=>{i&&(u[i.trim()]=x)});break}}if(v===-1){console.error("Could not find header row in CSV"),c([]);return}const I=S.slice(v+1).map(r=>{const t=i=>r[u[i]]||"";return!t("Device")||!t("Repair Type")?null:{Device:t("Device"),"Device Model":t("Device Model"),"Repair Type":t("Repair Type"),"Sub-Type Title":t("Sub-Type Title"),"Sub-Type Price (USD)":t("Sub-Type Price (USD)"),Warranty:t("Warranty")}}).filter(r=>r!==null),f={};I.forEach(r=>{const t=r["Sub-Type Title"]||"Standard",i=`${r.Device}|${r["Device Model"]}|${r["Repair Type"]}|${t}`;f[i]||(f[i]={company:r.Device,device:r["Device Model"],service:r["Repair Type"],subType:t,prices:[],warranty:r.Warranty||"90 Days"});const x=parseFloat(r["Sub-Type Price (USD)"].replace(/[^0-9.]/g,""));!isNaN(x)&&x>0&&f[i].prices.push(x)});const w=Object.values(f).map(r=>{let t="Contact for Price";if(r.prices.length>0){const b=Math.min(...r.prices),D=Math.max(...r.prices);t=b===D?`$${b}`:`$${b} - $${D}`}let i=k(r.company);i.toLowerCase()==="iphone"&&(i="iPhone"),i.toLowerCase()==="ipad"&&(i="iPad"),i.toLowerCase()==="aio"&&(i="All-In-One");let x=Z(r.service);return r.subType&&r.subType!=="Standard"?x+=` - ${r.subType}`:r.subType==="Standard"&&r.service,{company:i,device:r.device,service:x,cost:t,duration:"1-2",warranty:r.warranty,technicianAvailable:!0}});c(w)},error:y=>{console.error("CSV Parse Error:",y),j(y)}})}),te=()=>{const c=N(),[j,y]=d.useState(null),[S,v]=d.useState(null),[u,I]=d.useState(null),[f,w]=d.useState(null),[r,t]=d.useState([]),[i,x]=d.useState(!0),[b,D]=d.useState(null);d.useEffect(()=>{(async()=>{try{const p=await Q();t(p)}catch(p){D("Failed to load service options."),console.error(p)}finally{x(!1)}})()},[]);const L=d.useMemo(()=>Array.from(new Set(r.map(s=>s.device))).sort(),[r]),M=d.useMemo(()=>j?r.filter(s=>s.device===j).map(s=>s.service).sort():[],[j,r]);return d.useEffect(()=>{c.state?.deviceModel&&y(c.state.deviceModel),c.state?.serviceType&&v(c.state.serviceType)},[c.state]),d.useEffect(()=>{if(!u){w(null);return}const s=URL.createObjectURL(u);return w(s),()=>URL.revokeObjectURL(s)},[u]),e.jsxs(h,{sx:{minHeight:"100vh"},children:[e.jsx(H,{title:"Contact Us",description:"Get a free quote for your device repair. Contact CMTC Wireless in Minneapolis or St. Paul today for fast and expert service."}),e.jsxs(z,{maxWidth:"lg",sx:{py:10},children:[e.jsxs(h,{sx:{textAlign:"center",mb:8},children:[e.jsx(C,{delay:.1,children:e.jsxs(o,{variant:"h2",sx:{fontWeight:800,mb:2},children:[e.jsx("span",{style:{color:"#000000"},children:"Get"})," ",e.jsx("span",{style:{color:a.primary},children:"in"})," ",e.jsx("span",{style:{color:a.primaryBlue},children:"Touch"})]})}),e.jsx(C,{delay:.3,children:e.jsx(o,{variant:"h6",sx:{color:"#000000",fontWeight:400},children:"Have a question or need a quote? We're here to help 24/7."})})]}),e.jsxs(l,{container:!0,spacing:6,children:[e.jsx(l,{size:{xs:12,md:5},children:e.jsx(C,{direction:"right",delay:.2,children:e.jsxs(m,{spacing:4,children:[e.jsx(R,{sx:{borderRadius:4,boxShadow:"0 4px 20px rgba(0,0,0,0.05)",bgcolor:"#F9FAFB","&:hover":{boxShadow:"0 4px 20px rgba(163, 219, 145, 1)",color:a.primary}},children:e.jsxs(T,{sx:{p:4},children:[e.jsxs(m,{component:"a",href:n.address.minneapolis.mapLink,target:"_blank",rel:"noopener noreferrer",direction:"row",spacing:2,alignItems:"flex-start",sx:{mb:4,textDecoration:"none",color:"inherit",transition:"0.2s","&:hover":{opacity:.7}},children:[e.jsx(h,{sx:{p:1.5,bgcolor:"#E8F5E9",borderRadius:"50%",color:a.primary},children:e.jsx(W,{})}),e.jsxs(h,{children:[e.jsx(o,{variant:"h6",sx:{fontWeight:700,mb:1},children:n.address.minneapolis.name}),e.jsxs(o,{variant:"body1",color:"textSecondary",children:[n.address.minneapolis.street,e.jsx("br",{}),n.address.minneapolis.cityStateZip]})]})]}),e.jsxs(m,{component:"a",href:n.address.stPaul.mapLink,target:"_blank",rel:"noopener noreferrer",direction:"row",spacing:2,alignItems:"flex-start",sx:{textDecoration:"none",color:"inherit",transition:"0.2s","&:hover":{opacity:.7}},children:[e.jsx(h,{sx:{p:1.5,bgcolor:"#E8F5E9",borderRadius:"50%",color:a.primary},children:e.jsx(W,{})}),e.jsxs(h,{children:[e.jsx(o,{variant:"h6",sx:{fontWeight:700,mb:1},children:n.address.stPaul.name}),e.jsxs(o,{variant:"body1",color:"textSecondary",children:[n.address.stPaul.street,e.jsx("br",{}),n.address.stPaul.cityStateZip]})]})]})]})}),e.jsx(R,{sx:{borderRadius:4,boxShadow:"0 4px 20px rgba(0,0,0,0.05)",bgcolor:"#2C3E50",color:"white"},children:e.jsx(T,{sx:{p:4},children:e.jsxs(m,{spacing:3,children:[e.jsxs(m,{direction:"row",spacing:2,alignItems:"center",component:"a",href:n.phone.link,sx:{textDecoration:"none",color:"inherit","&:hover":{color:a.primary}},children:[e.jsx(A,{sx:{color:a.primary}}),e.jsx(o,{variant:"h6",sx:{fontWeight:600},children:n.phone.display})]}),e.jsxs(m,{direction:"row",spacing:2,alignItems:"center",component:"a",href:n.email.link,sx:{textDecoration:"none",color:"inherit","&:hover":{color:a.primary}},children:[e.jsx(F,{sx:{color:a.primary}}),e.jsx(o,{variant:"body1",children:n.email.display})]}),e.jsxs(m,{direction:"row",spacing:2,alignItems:"center",component:"a",href:n.text.link,sx:{textDecoration:"none",color:"inherit","&:hover":{color:a.primary}},children:[e.jsx($,{sx:{color:a.primary}}),e.jsxs(o,{variant:"body1",children:["Text: ",n.text.display]})]}),e.jsxs(m,{direction:"row",spacing:2,alignItems:"center",component:"a",href:n.whatsapp.link,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"inherit","&:hover":{color:a.primary}},children:[e.jsx(O,{sx:{color:a.primary}}),e.jsx(o,{variant:"body1",children:"WhatsApp"})]}),e.jsxs(m,{direction:"row",spacing:2,alignItems:"flex-start",children:[e.jsx(_,{sx:{color:a.primary}}),e.jsxs(h,{children:[e.jsx(o,{variant:"body2",sx:{fontWeight:700,color:a.primary,mb:.5},children:"OPEN HOURS"}),e.jsx(o,{variant:"body2",sx:{opacity:.8},children:n.hours.weekday}),e.jsx(o,{variant:"body2",sx:{opacity:.8},children:n.hours.weekend}),e.jsx(o,{variant:"body2",sx:{opacity:.8},children:"Sunday: Closed"})]})]})]})})})]})})}),e.jsx(l,{size:{xs:12,md:7},children:e.jsx(C,{direction:"left",delay:.4,children:e.jsx(R,{sx:{borderRadius:4,boxShadow:"0 10px 40px rgba(0,0,0,0.1)",height:"100%"},children:e.jsxs(T,{sx:{p:{xs:3,md:5}},children:[e.jsx(o,{variant:"h5",sx:{fontWeight:700,mb:4,color:a.primary,textAlign:"center"},children:"Get Instant Quote"}),i&&e.jsx(o,{children:"Loading options..."}),!i&&r.length===0&&e.jsx(E,{severity:"warning",children:"No service data loaded. Please refresh."}),b&&e.jsx(E,{severity:"error",children:b}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{size:{xs:12,sm:6},children:e.jsx(g,{label:"Full Name",fullWidth:!0,variant:"outlined",InputProps:{sx:{borderRadius:2}}})}),e.jsx(l,{size:{xs:12,sm:6},children:e.jsx(g,{label:"Phone Number",fullWidth:!0,variant:"outlined",InputProps:{sx:{borderRadius:2}}})}),e.jsx(l,{size:{xs:12},children:e.jsx(g,{label:"Email Address",type:"email",fullWidth:!0,variant:"outlined",InputProps:{sx:{borderRadius:2}}})}),e.jsx(l,{size:{xs:12,sm:6},children:e.jsx(U,{freeSolo:!0,options:L,value:j,loading:i,onChange:(s,p)=>{y(p),v(null)},onInputChange:(s,p)=>{y(p)},renderInput:s=>e.jsx(g,{...s,label:"Device Model/Category",variant:"outlined",InputProps:{...s.InputProps,sx:{borderRadius:2}}})})}),e.jsx(l,{size:{xs:12,sm:6},children:e.jsx(U,{freeSolo:!0,options:M,value:S,loading:i,onChange:(s,p)=>v(p),onInputChange:(s,p)=>{v(p)},renderInput:s=>e.jsx(g,{...s,label:"Repair Service Name",variant:"outlined",InputProps:{...s.InputProps,sx:{borderRadius:2}}})})}),e.jsx(l,{size:{xs:12},children:e.jsx(g,{label:"How can we help?",multiline:!0,rows:4,fullWidth:!0,variant:"outlined",InputProps:{sx:{borderRadius:2}}})}),e.jsx(l,{size:{xs:12},children:e.jsxs(h,{children:[e.jsxs(P,{component:"label",variant:"outlined",fullWidth:!0,sx:{py:1.5,borderRadius:2,borderStyle:"dashed"},children:[u?`Selected: ${u.name}`:"Upload Your Device Image (Optional)",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:s=>{s.target.files&&s.target.files[0]&&I(s.target.files[0])}})]}),u&&f&&e.jsxs(h,{sx:{mt:2,position:"relative",display:"inline-block"},children:[e.jsx(h,{component:"img",src:f,alt:"Device preview",sx:{width:100,height:100,objectFit:"cover",borderRadius:2,border:"1px solid #eee"}}),e.jsx(P,{size:"small",onClick:()=>I(null),sx:{position:"absolute",top:-10,right:-10,minWidth:"auto",width:24,height:24,p:0,bgcolor:"#ef5350",color:"white",borderRadius:"50%","&:hover":{bgcolor:"#d32f2f"}},children:"Ã—"})]})]})}),e.jsx(l,{size:{xs:12},children:e.jsx(P,{variant:"contained",color:"primary",size:"large",fullWidth:!0,endIcon:e.jsx(G,{}),sx:{py:1.5,fontSize:"1.1rem",color:"#fff",fontWeight:700},children:"Send Message"})})]})]})})})})]})]}),e.jsx(q,{})]})};export{te as default};
