import{e as D,j as g,s as w,N as E,q as L,aj as v,k as A,l as N,r as C,u as j,E as _,n as U,p as k,T as $,ae as z}from"./index-B-YwnTUl.js";import{P as O}from"./papaparse.min-DUX5VkEa.js";const V=D(g.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),q=w(E,{name:"MuiBreadcrumbCollapsed"})(L(({theme:e})=>({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`,...e.palette.mode==="light"?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...e.palette.mode==="light"?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}},"&:active":{boxShadow:e.shadows[0],...e.palette.mode==="light"?{backgroundColor:v(e.palette.grey[200],.12)}:{backgroundColor:v(e.palette.grey[600],.12)}}}))),H=w(V)({width:24,height:16});function W(e){const{slots:a={},slotProps:f={},...n}=e,p=e;return g.jsx("li",{children:g.jsx(q,{focusRipple:!0,...n,ownerState:p,children:g.jsx(H,{as:a.CollapsedIcon,ownerState:p,...f.collapsedIcon})})})}function Z(e){return N("MuiBreadcrumbs",e)}const F=A("MuiBreadcrumbs",["root","ol","li","separator"]),K=e=>{const{classes:a}=e;return k({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Z,a)},Y=w($,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,a)=>[{[`& .${F.li}`]:a.li},a.root]})({}),G=w("ol",{name:"MuiBreadcrumbs",slot:"Ol"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),J=w("li",{name:"MuiBreadcrumbs",slot:"Separator"})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Q(e,a,f,n){return e.reduce((p,m,l)=>(l<e.length-1?p=p.concat(m,g.jsx(J,{"aria-hidden":!0,className:a,ownerState:n,children:f},`separator-${l}`)):p.push(m),p),[])}const oe=C.forwardRef(function(a,f){const n=j({props:a,name:"MuiBreadcrumbs"}),{children:p,className:m,component:l="nav",slots:b={},slotProps:y={},expandText:S="Show path",itemsAfterCollapse:s=1,itemsBeforeCollapse:o=1,maxItems:i=8,separator:h="/",...c}=n,[r,t]=C.useState(!1),d={...n,component:l,expanded:r,expandText:S,itemsAfterCollapse:s,itemsBeforeCollapse:o,maxItems:i,separator:h},x=K(d),I=_({elementType:b.CollapsedIcon,externalSlotProps:y.collapsedIcon,ownerState:d}),T=C.useRef(null),M=u=>{const P=()=>{t(!0);const B=T.current.querySelector("a[href],button,[tabindex]");B&&B.focus()};return o+s>=u.length?u:[...u.slice(0,o),g.jsx(W,{"aria-label":S,slots:{CollapsedIcon:b.CollapsedIcon},slotProps:{collapsedIcon:I},onClick:P},"ellipsis"),...u.slice(u.length-s,u.length)]},R=C.Children.toArray(p).filter(u=>C.isValidElement(u)).map((u,P)=>g.jsx("li",{className:x.li,children:u},`child-${P}`));return g.jsx(Y,{ref:f,component:l,color:"textSecondary",className:U(x.root,m),ownerState:d,...c,children:g.jsx(G,{className:x.ol,ref:T,ownerState:d,children:Q(r||i&&R.length<=i?R:M(R),x.separator,h,d)})})});const X=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ae=z("zap",X),se=D(g.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),ee="https://docs.google.com/spreadsheets/d/e/2PACX-1vT7ZZsn4Cvg3d3LsqdvuhjtWFOCKhVr-E3tBQ_GqW9hoQI4eSM6-UcAD_RmZ6M7XGn9w3b76CNcY2UL/pub?gid=1867337181&single=true&output=csv",ce=()=>{const[e,a]=C.useState([]),[f,n]=C.useState(!0);return C.useEffect(()=>{const m="repair_pricing_data",l="repair_pricing_timestamp",y=localStorage.getItem(m),S=localStorage.getItem(l);if(y&&S&&Date.now()-parseInt(S,10)<3e5)try{const o=JSON.parse(y);a(o),n(!1);return}catch(o){console.error("Failed to parse cached data",o)}O.parse(ee,{download:!0,header:!1,complete:s=>{const o=s.data;let i=-1;const h={};for(let r=0;r<o.length;r++){const t=o[r];if(t.includes("Device")&&t.includes("Sub-Type Price (USD)")){i=r,t.forEach((d,x)=>{d&&(h[d.trim()]=x)});break}}if(i===-1){console.error("Could not find header row in CSV"),n(!1);return}const c=o.slice(i+1).map(r=>{const t=d=>r[h[d]]?.trim()||"";return!t("Device")&&!t("Repair Type")?null:{Device:t("Device"),"Device Model":t("Device Model"),"Repair Type":t("Repair Type"),"Sub-Type Title":t("Sub-Type Title"),"Sub-Type Price (USD)":t("Sub-Type Price (USD)"),Warranty:t("Warranty")}}).filter(r=>r!==null);a(c),n(!1);try{localStorage.setItem(m,JSON.stringify(c)),localStorage.setItem(l,Date.now().toString())}catch(r){console.error("Failed to save to cache",r)}},error:s=>{console.error("Error parsing CSV:",s),n(!1)}})},[]),{loading:f,getPriceRange:(m,l,b)=>{if(f)return"Loading...";if(!e.length)return"Contact for Price";const y=l.toLowerCase().replace(/ /g,"-").replace("/","-");let s=e.filter(c=>c.Device?.toLowerCase()===m.toLowerCase()).filter(c=>{const r=c["Repair Type"]?.toLowerCase();return r===y||r===l.toLowerCase().replace(/ /g,"-")});if(b&&(s=s.filter(c=>c["Device Model"]?.toLowerCase().replace(/\s+/g,"")===b.toLowerCase().replace(/\s+/g,""))),s.length===0)return"Contact for Price";const o=[];if(s.forEach(c=>{const r=c["Sub-Type Price (USD)"];if(r){const t=parseFloat(r.replace(/[^0-9.]/g,""));!isNaN(t)&&t>0&&o.push(t)}}),o.length===0)return"Contact for Price";const i=Math.min(...o),h=Math.max(...o);return i===h?`$${i}`:`$${i} - $${h}`},rawData:e}};export{oe as B,se as N,ae as Z,ce as u};
